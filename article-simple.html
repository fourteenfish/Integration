<html>
<head>
    <title>iFrame integration demo</title>
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" rel="stylesheet" type="text/css" />
    <link href="content/base.css" rel="stylesheet" type="text/css" />
    <link href="content/large.css" rel="stylesheet" type="text/css" media="only screen and (min-width: 800px)" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="scripts/message.js"></script>

    <script>
        $(document).ready(function() {
            $('a.recordcpd').on('click', function(event) {
                // Prevent the normal behaviour of the link
                event.preventDefault();
                
                // Create the popover elements 
                $('body').append('<div class="pagecover"></div>');
                $('body').append('<div class="popover"><i class="closeicon" /><iframe frameborder="0"></iframe></div>');

                // Remove the popover elements if the user clicks outside the popover or on the close icon
                $('div.pagecover, i.closeicon').on('click', function() {
                    $('div.pagecover, div.popover').remove();
                });

                // Set the iframe src from the link
                $('div.popover iframe').attr('src', $(this).attr('href'));               
            });
        });
    </script>
</head>

<body>

<div class="explanation">
    <h1>Recording CPD (simple)</h1>
    <p>In this example all the parameters needed for the widget are present in the <strong>href</strong> attribute of the link. This attribute is used as the <strong>src</strong> of the iframe element that contains the widget.</p>
    <p>Note that you can still use the widget without any of the user's personal details being included in the link. If you leave these out then the only difference is that the user's details won't be prefilled if they need to create a FourteenFish account. Alternatively you can just pass us a <strong>userid</strong> and we will make a <a href="article-callback.html">callback</a> to get their details.</p>
    <p>If the user is logged in to FourteenFish then they are taken straight to the CPD recording page when the iframe loads. Otherwise they are shown the login page.</p>
</div>

<div class="wrapper">
    <div class="main">
        <h1>Can low carbs diet reduce the risk for diabetes?</h1>
        <ul>
            <li>This meta-analysis shows that low to moderate carbohydrate diets have greater glucose-lowering effect compared with high-carbohydrate diets (HCD).</li>
            <li>Apart from this lowering of HbA1c over the short term, there is no superiority of low-carbohydrate diets (LCD) in terms of glycaemic control, weight, or Low-density lipoprotein (LDL) cholesterol.</li>  
            <li>The ideal amount of carbohydrates in the diet in the management of type 2 diabetes is unclear.</li>  
        </ul>
    </div>

    <div class="sidebar">        
        <p><a class="recordcpd" href="https://www.fourteenfish.com/widget/recordcpd?integrationId=demo&amp;pagetitle=Can+low+carbs+diet+reduce+the+risk+for+diabetes%3F&amp;pageurl=https://www.univadis.co.uk/viewarticle/can-low-carbs-diet-reduce-the-risk-for-diabetes-499141&amp;email=cooper@example.com&amp;firstname=Sheldon&amp;lastname=Cooper&amp;salutation=Dr&amp;profession=GP&amp;county=Wiltshire&amp;userid=123456">Record CPD</a></p> 
        <p><a class="listcpd" href="list.html">View all your CPD</a></p>
    </div>

    <div class="clear"></div>
</div>
</body>

</html>